<section>
  <figure #containerVideoElement [ngClass]="{containerFullScreen: isFullScreen}">
    <video
      #video
      [width]="videoOptions.width"
      [height]="videoOptions.height"
      [src]="videoOptions.src"
      [muted]="videoOptions.muted"
      [ngClass]="{videoFullScreen: isFullScreen}"
    >
    </video>

    <figcaption
      class="controls"
      [ngClass]="{controlsFullScreen: isFullScreen}"
    >

      <div class="container-progress-bar-video">
        <input
          #progressBarVideo
          type="range"
          class="progress-bar-video"
          min="0"
          [max]="video.duration"
          step="1"
          [value]="progressBarVideoValue"
          (click)="setProgressVideoValue($event)"
        />
      </div>

      <div class="container-buttons-controls">

        <div class="play-pause-volume">
          <button #playPause class="btn-controls">
            <img *ngIf="!isPlay" src="../../assets/images/icons/play.png" alt="play">
            <img *ngIf="isPlay" src="../../assets/images/icons/pause.png" alt="pause">
          </button>

          <button class="btn-controls" (click)=muteVolume()>
            <img *ngIf="!isMute" src="../../assets/images/icons/volume.png" alt="volume">
            <img *ngIf="isMute" src="../../assets/images/icons/mute.png" alt="mute">
          </button>

          <input
            type="range"
            class="progressBarVolume"
            min="0"
            max="1"
            step="0.1"
            [value]="progressBarVolumeValue"
            (change)="changeVolume($event)"
          />
        </div>

        <div class="other-controls">
          <button class="btn-controls" #loopSegment>
            <img src="../../assets/images/icons/loop-video-segments.png" alt="loop-video-segments">
          </button>

          <button class="btn-controls" (click)="isOpen = !isOpen" type="button" cdkOverlayOrigin #trigger="cdkOverlayOrigin">
            <img src="assets/images/icons/settings.png" alt="settings"/>
          </button>

          <button class="btn-controls" (click)=fullScreen()>
            <img src="../../assets/images/icons/fullscreen.png" alt="fullscreen">
          </button>

          <ng-template
            cdkConnectedOverlay
            [cdkConnectedOverlayOrigin]="trigger"
            [cdkConnectedOverlayOpen]="isOpen"
          >
            <ul class="setting-list">
              <li>
                <button (click)="snapshot()">Screen</button>
              </li>
            </ul>
          </ng-template>
        </div>
      </div>



    </figcaption>
  </figure>
  <canvas #canvas [width]="videoOptions.width" [height]="videoOptions.height"></canvas>
</section>

<footer>
  Icons made by <a href="https://www.flaticon.com/authors/freepik" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon"> www.flaticon.com</a>
</footer>

