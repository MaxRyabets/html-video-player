<section>
  <figure #containerVideoElement [ngClass]="{containerFullScreen: isFullScreen}">
    <video
      #video
      [width]="videoOptions.width"
      [height]="videoOptions.height"
      [src]="videoOptions.src"
      [muted]="videoOptions.muted"
      [ngClass]="{videoFullScreen: isFullScreen}"
    >
    </video>

    <figcaption
      class="controls"
      [ngClass]="{controlsFullScreen: isFullScreen}"
    >
      <div class="container-progress-bar-video">
        <progress
          #progressBarVideo
          class="progress-bar-video"
          max="98"
          [value]="progressBarVideoValue"
          (click)="setProgressVideoValue($event)"
        ></progress>
      </div>

      <div class="container-buttons-controls">
        <div class="control-play-pause-volume">
          <button #playPause class="btn-controls">
            <img *ngIf="!isPlay" src="../../assets/images/icons/play.png" alt="play">
            <img *ngIf="isPlay" src="../../assets/images/icons/pause.png" alt="pause">
          </button>

          <div class="control-time">
            <ng-container *ngIf="duration.length">
              {{currentTime}} / {{duration}}
            </ng-container>
          </div>

          <button class="btn-controls" (click)=muteVolume()>
            <img *ngIf="!isMute" src="../../assets/images/icons/volume.png" alt="volume">
            <img *ngIf="isMute" src="../../assets/images/icons/mute.png" alt="mute">
          </button>

          <input
            type="range"
            class="progressBarVolume"
            min="0"
            max="1"
            step="0.1"
            [value]="progressBarVolumeValue"
            (change)="changeVolume($event)"
          />
        </div>

        <div class="other-controls">
          <button class="btn-controls" #loopSegment [ngClass]="{highlightLoopVideoSegment: isDisabledLoopVideoSegment}">
            <img src="../../assets/images/icons/loop-video-segments.png" alt="loop-video-segments">
          </button>

          <button class="btn-controls" (click)=fullScreen()>
            <img src="../../assets/images/icons/fullscreen.png" alt="fullscreen">
          </button>

          <div class="container-popup-other-controls">
            <button class="btn-controls" (click)="isOpen = !isOpen" type="button">
              <img src="assets/images/icons/settings.png" alt="settings"/>
            </button>

            <div class="other-controls-hidden" [ngClass]="{popupOtherControls: isOpen}">
              <button class="btn-controls" (click)="snapshot()">
                <img src="assets/images/icons/snapshot.png" alt="snapshot"/>
              </button>
            </div>
          </div>
        </div>
      </div>
    </figcaption>
  </figure>
  <canvas #canvas [width]="videoOptions.width" [height]="videoOptions.height"></canvas>
</section>
